add_custom_command(OUTPUT TSiLiPhysicsDict.cxx TSiLiPhysicsDict_rdict.pcm TSiLiPhysics.rootmap COMMAND rootcint -f TSiLiPhysicsDict.cxx -rmf TSiLiPhysics.rootmap -rml libNPSiLi.dylib -I../Core -c TSiLiPhysics.h DEPENDS TSiLiPhysics.h)
add_custom_command(OUTPUT TSiLiDataDict.cxx TSiLiDataDict_rdict.pcm TSiLiData.rootmap COMMAND rootcint -f TSiLiDataDict.cxx -rmf TSiLiData.rootmap -rml libNPSiLi.dylib -I../Core -c TSiLiData.h DEPENDS TSiLiData.h)
add_library(NPSiLi SHARED TSiLiData.cxx TSiLiPhysics.cxx TSiLiDataDict.cxx TSiLiPhysicsDict.cxx TSiLiSpectra.cxx)
target_link_libraries(NPSiLi ${ROOT_LIBRARIES} NPCore) 
install(FILES TSiLiData.h TSiLiPhysics.h TSiLiSpectra.h DESTINATION ${CMAKE_INCLUDE_OUTPUT_DIRECTORY})

install(FILES TSiLiData.rootmap DESTINATION ${CMAKE_LIBRARY_OUTPUT_DIRECTORY})
install(FILES TSiLiPhysics.rootmap DESTINATION ${CMAKE_LIBRARY_OUTPUT_DIRECTORY})
install(FILES TSiLiDataDict_rdict.pcm DESTINATION ${CMAKE_LIBRARY_OUTPUT_DIRECTORY})
install(FILES TSiLiPhysicsDict_rdict.pcm DESTINATION ${CMAKE_LIBRARY_OUTPUT_DIRECTORY})
install(FILES TSiLiDataDict_rdict.pcm DESTINATION ${CMAKE_LIBRARY_OUTPUT_DIRECTORY})
install(FILES TSiLiPhysicsDict_rdict.pcm DESTINATION ${CMAKE_LIBRARY_OUTPUT_DIRECTORY})
