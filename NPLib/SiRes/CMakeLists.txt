add_custom_command(OUTPUT TSiResPhysicsDict.cxx TSiResPhysicsDict_rdict.pcm TSiResPhysics.rootmap COMMAND rootcint -f TSiResPhysicsDict.cxx -rmf TSiResPhysics.rootmap -rml libNPSiRes.dylib -I../Core -c TSiResPhysics.h DEPENDS TSiResPhysics.h)
add_custom_command(OUTPUT TSiResDataDict.cxx TSiResDataDict_rdict.pcm TSiResData.rootmap COMMAND rootcint -f TSiResDataDict.cxx -rmf TSiResData.rootmap -rml libNPSiRes.dylib -I../Core -c TSiResData.h DEPENDS TSiResData.h)
add_library(NPSiRes SHARED TSiResData.cxx TSiResPhysics.cxx TSiResDataDict.cxx TSiResPhysicsDict.cxx TSiResSpectra.cxx)
target_link_libraries(NPSiRes ${ROOT_LIBRARIES} NPCore) 
install(FILES TSiResData.h TSiResPhysics.h TSiResSpectra.h DESTINATION ${CMAKE_INCLUDE_OUTPUT_DIRECTORY})

install(FILES TSiResData.rootmap DESTINATION ${CMAKE_LIBRARY_OUTPUT_DIRECTORY})
install(FILES TSiResPhysics.rootmap DESTINATION ${CMAKE_LIBRARY_OUTPUT_DIRECTORY})
install(FILES TSiResDataDict_rdict.pcm DESTINATION ${CMAKE_LIBRARY_OUTPUT_DIRECTORY})
install(FILES TSiResPhysicsDict_rdict.pcm DESTINATION ${CMAKE_LIBRARY_OUTPUT_DIRECTORY})
install(FILES TSiResDataDict_rdict.pcm DESTINATION ${CMAKE_LIBRARY_OUTPUT_DIRECTORY})
install(FILES TSiResPhysicsDict_rdict.pcm DESTINATION ${CMAKE_LIBRARY_OUTPUT_DIRECTORY})
