add_custom_command(OUTPUT TPlasticPhysicsDict.cxx TPlasticPhysicsDict_rdict.pcm TPlasticPhysics.rootmap COMMAND rootcint -f TPlasticPhysicsDict.cxx -rmf TPlasticPhysics.rootmap -rml libNPPlastic.dylib -I../Core -c TPlasticPhysics.h DEPENDS TPlasticPhysics.h)
add_custom_command(OUTPUT TPlasticDataDict.cxx TPlasticDataDict_rdict.pcm TPlasticData.rootmap COMMAND rootcint -f TPlasticDataDict.cxx -rmf TPlasticData.rootmap -rml libNPPlastic.dylib -I../Core -c TPlasticData.h DEPENDS TPlasticData.h)
add_library(NPPlastic SHARED TPlasticData.cxx TPlasticPhysics.cxx TPlasticDataDict.cxx TPlasticPhysicsDict.cxx )
target_link_libraries(NPPlastic ${ROOT_LIBRARIES} NPCore) 
install(FILES TPlasticData.h TPlasticPhysics.h DESTINATION ${CMAKE_INCLUDE_OUTPUT_DIRECTORY})

install(FILES TPlasticData.rootmap DESTINATION ${CMAKE_LIBRARY_OUTPUT_DIRECTORY})
install(FILES TPlasticPhysics.rootmap DESTINATION ${CMAKE_LIBRARY_OUTPUT_DIRECTORY})
install(FILES TPlasticDataDict_rdict.pcm DESTINATION ${CMAKE_LIBRARY_OUTPUT_DIRECTORY})
install(FILES TPlasticPhysicsDict_rdict.pcm DESTINATION ${CMAKE_LIBRARY_OUTPUT_DIRECTORY})
install(FILES TPlasticDataDict_rdict.pcm DESTINATION ${CMAKE_LIBRARY_OUTPUT_DIRECTORY})
install(FILES TPlasticPhysicsDict_rdict.pcm DESTINATION ${CMAKE_LIBRARY_OUTPUT_DIRECTORY})
