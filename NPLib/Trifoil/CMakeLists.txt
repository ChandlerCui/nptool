add_custom_command(OUTPUT TTrifoilPhysicsDict.cxx TTrifoilPhysicsDict_rdict.pcm TTrifoilPhysics.rootmap COMMAND rootcint -f TTrifoilPhysicsDict.cxx -rmf TTrifoilPhysics.rootmap -rml libNPTrifoil.dylib -I../Core -c TTrifoilPhysics.h DEPENDS TTrifoilPhysics.h)
add_custom_command(OUTPUT TTrifoilDataDict.cxx TTrifoilDataDict_rdict.pcm TTrifoilData.rootmap COMMAND rootcint -f TTrifoilDataDict.cxx -rmf TTrifoilData.rootmap -rml libNPTrifoil.dylib -I../Core -c TTrifoilData.h DEPENDS TTrifoilData.h)
add_library(NPTrifoil SHARED TTrifoilData.cxx TTrifoilPhysics.cxx TTrifoilDataDict.cxx TTrifoilPhysicsDict.cxx )
target_link_libraries(NPTrifoil ${ROOT_LIBRARIES} NPCore) 
install(FILES TTrifoilData.h TTrifoilPhysics.h DESTINATION ${CMAKE_INCLUDE_OUTPUT_DIRECTORY})

install(FILES TTrifoilData.rootmap DESTINATION ${CMAKE_LIBRARY_OUTPUT_DIRECTORY})
install(FILES TTrifoilPhysics.rootmap DESTINATION ${CMAKE_LIBRARY_OUTPUT_DIRECTORY})
install(FILES TTrifoilDataDict_rdict.pcm DESTINATION ${CMAKE_LIBRARY_OUTPUT_DIRECTORY})
install(FILES TTrifoilPhysicsDict_rdict.pcm DESTINATION ${CMAKE_LIBRARY_OUTPUT_DIRECTORY})
install(FILES TTrifoilDataDict_rdict.pcm DESTINATION ${CMAKE_LIBRARY_OUTPUT_DIRECTORY})
install(FILES TTrifoilPhysicsDict_rdict.pcm DESTINATION ${CMAKE_LIBRARY_OUTPUT_DIRECTORY})
